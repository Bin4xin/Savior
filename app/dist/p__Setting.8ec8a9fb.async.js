(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[868],{71100:function(B){B.exports={baseView:"baseView___1OVH6",left:"left___2sTav",right:"right___6rvTG",avatar_title:"avatar_title___2KHNu",avatar:"avatar___Bi4Qh",button_view:"button_view___1Xmht",area_code:"area_code___3B71N",phone_number:"phone_number___153zl"}},41736:function(B){B.exports={standardList:"standardList____eOhR",headerInfo:"headerInfo___3GrHd",listContent:"listContent___141WU",listContentItem:"listContentItem___pClZn",extraContentSearch:"extraContentSearch___lsWbj",listCard:"listCard___2SlS8",standardListForm:"standardListForm___14iw1",formResult:"formResult___3sZ6B"}},37113:function(B){B.exports={standardList:"standardList___fsbpX",headerInfo:"headerInfo___3WSN_",listContent:"listContent___6WAHL",listContentItem:"listContentItem___navQr",extraContentSearch:"extraContentSearch___3e2Zl",listCard:"listCard___37CgA",standardListForm:"standardListForm___Sq-l_",formResult:"formResult___8fQmt"}},32108:function(B){B.exports={main:"main___1jT5e",leftMenu:"leftMenu___1QY4v",right:"right___2a0zh",title:"title___2n0kH"}},38933:function(B,ce,n){"use strict";n.r(ce),n.d(ce,{default:function(){return nt}});var j=n(8870),C=n(2824),dt=n(30887),me=n(99210),Z=n(67294),je=n(21349),ct=n(34792),Y=n(48086),E=n(3182),xe=n(94043),d=n.n(xe),Ee=n(952),P=n(5966),Ze=n(52688),x=n(48971);function Ce(){return G.apply(this,arguments)}function G(){return G=(0,E.Z)(d().mark(function u(){return d().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,x.WY)("/api/currentuser/",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access"))}}));case 1:case"end":return t.stop()}},u)})),G.apply(this,arguments)}function mt(){return Q.apply(this,arguments)}function Q(){return Q=_asyncToGenerator(_regeneratorRuntime.mark(function u(){return _regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/currentuser/",{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("access"))}}));case 1:case"end":return t.stop()}},u)})),Q.apply(this,arguments)}function pt(){return k.apply(this,arguments)}function k(){return k=_asyncToGenerator(_regeneratorRuntime.mark(function u(){return _regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/users"));case 1:case"end":return t.stop()}},u)})),k.apply(this,arguments)}var Se=n(71100),L=n.n(Se),e=n(85893),Be=function(r){var t=r.avatar;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:L().avatar_title,children:"\u5934\u50CF"}),(0,e.jsx)("div",{className:L().avatar,children:(0,e.jsx)("img",{src:t,alt:"avatar"})})]})},be=function(){var r=(0,x.QT)(function(){return Ce()}),t=r.data,a=r.loading,s=function(){if(t){if(t.avatar)return t.avatar;var h="https://gw.alipayobjects.com/zos/rmsportal/BiazfanxmamNRoxxVxka.png";return h}return""},g=function(){var p=(0,E.Z)(d().mark(function h(){return d().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:Y.default.warning("\u8BF7\u8BBF\u95EE\u7BA1\u7406\u540E\u53F0\u4FEE\u6539\u4E2A\u4EBA\u4FE1\u606F!");case 1:case"end":return m.stop()}},h)}));return function(){return p.apply(this,arguments)}}();return(0,e.jsx)("div",{className:L().baseView,children:a?null:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:L().left,children:(0,e.jsxs)(Ee.ZP,{layout:"vertical",onFinish:g,submitter:{resetButtonProps:{style:{display:"none"}},submitButtonProps:{children:"\u66F4\u65B0\u57FA\u672C\u4FE1\u606F"}},initialValues:(0,j.Z)({},t),hideRequiredMark:!0,children:[(0,e.jsx)(P.Z,{width:"md",name:"username",label:"\u7528\u6237\u540D",disabled:!0,rules:[{required:!0}]}),(0,e.jsx)(P.Z,{width:"md",name:"name",label:"\u6635\u79F0",disabled:!0,rules:[{required:!0}]}),(0,e.jsx)(P.Z,{width:"md",name:"email",label:"\u90AE\u7BB1",disabled:!0,rules:[{required:!0}]}),(0,e.jsx)(Ze.Z,{name:"autosentmail",label:"\u81EA\u52A8\u90AE\u4EF6",required:!0,tooltip:"\u81EA\u52A8\u53D1\u9001\u6E17\u900F\u6D4B\u8BD5\u62A5\u544A\u81F3\u90AE\u7BB1\uFF01",disabled:!0})]})}),(0,e.jsx)("div",{className:L().right,children:(0,e.jsx)(Be,{avatar:s()})})]})})},De=be,ft=n(58024),pe=n(39144),ht=n(89032),A=n(15746),vt=n(54421),b=n(38272),gt=n(94233),Pe=n(51890),Ft=n(57663),z=n(71577),yt=n(71194),fe=n(5644),he=n(49101),jt=n(57106),H=n(99683),xt=n(43185),we=n(11324),X=n(37476),Ae=n(10927),M=n(90672),Re=n(37113),W=n.n(Re),Te=function(r){var t=r.done,a=r.visible,s=r.current,g=r.onDone,p=r.onSubmit,h=r.children;if(!a)return null;var v={beforeUpload:function(i){return i.type!=="image/png"&&Y.default.error("".concat(i.name," is not a png file")),i.type==="image/png"?!0:we.Z.LIST_IGNORE},onChange:function(i){var l=new FormData;return l.append("img",i.fileList[0].file),console.log(l),l}};return(0,e.jsx)(X.Z,{visible:a,title:t?null:"".concat(s?"\u7F16\u8F91":"\u6DFB\u52A0\u9879\u76EE"),className:W().standardListForm,width:640,onFinish:function(){var m=(0,E.Z)(d().mark(function i(l){return d().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:p(l);case 1:case"end":return S.stop()}},i)}));return function(i){return m.apply(this,arguments)}}(),initialValues:s,submitter:{render:function(i,l){return t?null:l}},trigger:(0,e.jsx)(e.Fragment,{children:h}),modalProps:{onCancel:function(){return g()},destroyOnClose:!0,bodyStyle:t?{padding:"72px 0"}:{}},children:t?(0,e.jsx)(H.ZP,{status:"success",title:"\u64CD\u4F5C\u6210\u529F",subTitle:"\u4E00\u7CFB\u5217\u7684\u4FE1\u606F\u63CF\u8FF0\uFF0C\u5F88\u77ED\u540C\u6837\u4E5F\u53EF\u4EE5\u5E26\u6807\u70B9\u3002",extra:(0,e.jsx)(z.Z,{type:"primary",onClick:g,children:"\u77E5\u9053\u4E86"}),className:W().formResult}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Ae.Z,(0,j.Z)((0,j.Z)({},v),{},{label:"\u4E0A\u4F20",name:"project_logo"})),(0,e.jsx)(P.Z,{name:"project_center",label:"\u9879\u76EE\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u9879\u76EE\u540D\u79F0"}],placeholder:"\u8BF7\u8F93\u5165"}),(0,e.jsx)(M.Z,{name:"project_description",label:"\u9879\u76EE\u63CF\u8FF0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u81F3\u5C11\u4E94\u4E2A\u5B57\u7B26\u7684\u9879\u76EE\u63CF\u8FF0\uFF01",min:5}],placeholder:"\u8BF7\u8F93\u5165\u81F3\u5C11\u4E94\u4E2A\u5B57\u7B26"})]})})},Ie=Te,J=n(91896);function Le(u){return q.apply(this,arguments)}function q(){return q=(0,E.Z)(d().mark(function u(r){return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,x.WY)("/api/project/",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access"))}}));case 1:case"end":return a.stop()}},u)})),q.apply(this,arguments)}var ze=function(r){for(var t in r)typeof r[t]=="undefined"&&(r[t]="");return r};function Me(u){var r=ze(u),t=new FormData;for(var a in r)t.append(a,r[a]);return t}function Ne(u){return _.apply(this,arguments)}function _(){return _=(0,E.Z)(d().mark(function u(r){var t;return d().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=(0,J.Z)({},r),s.abrupt("return",(0,x.WY)("/api/project/",{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("access"))},data:Me(r)}));case 2:case"end":return s.stop()}},u)})),_.apply(this,arguments)}function Et(){return ee.apply(this,arguments)}function ee(){return ee=_asyncToGenerator(_regeneratorRuntime.mark(function u(){return _regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/project/",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access"))}}));case 1:case"end":return t.stop()}},u)})),ee.apply(this,arguments)}function Oe(u){return te.apply(this,arguments)}function te(){return te=(0,E.Z)(d().mark(function u(r){return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,x.WY)("/api/post_fake_list",{method:"POST",data:(0,j.Z)((0,j.Z)({},r),{},{method:"delete"})}));case 1:case"end":return a.stop()}},u)})),te.apply(this,arguments)}function Zt(u){return re.apply(this,arguments)}function re(){return re=_asyncToGenerator(_regeneratorRuntime.mark(function u(r){return _regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",request("/api/post_fake_list",{method:"POST",data:_objectSpread(_objectSpread({},r),{},{method:"post"})}));case 1:case"end":return a.stop()}},u)})),re.apply(this,arguments)}function We(u){return ae.apply(this,arguments)}function ae(){return ae=(0,E.Z)(d().mark(function u(r){return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,x.WY)("/api/post_fake_list",{method:"POST",data:(0,j.Z)((0,j.Z)({},r),{},{method:"update"})}));case 1:case"end":return a.stop()}},u)})),ae.apply(this,arguments)}var Ct=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(t){setTimeout(function(){t(!0)},r)})},Ve=function(){var r=(0,Z.useState)(!1),t=(0,C.Z)(r,2),a=t[0],s=t[1],g=(0,Z.useState)(!1),p=(0,C.Z)(g,2),h=p[0],v=p[1],m=(0,Z.useState)(void 0),i=(0,C.Z)(m,2),l=i[0],f=i[1],S=(0,x.QT)(function(F){var o=F.current,w=F.pageSize;return Le({current:o,pageSize:w})},{formatResult:function(o){return o},paginated:!0}),T=S.data,U=S.loading,K=S.pagination,N=(0,x.QT)(function(F,o){return F==="remove"?Oe(o):F==="update"?We(o):Ne(o)},{manual:!0,onSuccess:function(o){mutate(o)}}),I=N.run,ge=function(o){v(!0),f(o)},le=function(o){I("remove",{id:o})},Fe=function(o){fe.Z.confirm({title:"\u5220\u9664\u4EFB\u52A1",content:"\u786E\u5B9A\u5220\u9664\u8BE5\u4EFB\u52A1\u5417\uFF1F",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){return le(o.id)}})},O=function(){s(!1),v(!1),f({})},oe=function(o){s(!0);var w=o!=null&&o.id?"update":"add";I(w,o)};return(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:W().standardList,children:(0,e.jsxs)(pe.Z,{className:W().listCard,bordered:!1,style:{marginTop:24},bodyStyle:{padding:"0 32px 40px 32px"},children:[(0,e.jsxs)(z.Z,{type:"dashed",onClick:function(){Y.default.warning("\u8BF7\u8BBF\u95EE\u7BA1\u7406\u540E\u53F0\u4FEE\u6539\u9879\u76EE\u8BBE\u7F6E!(\u4E3B\u8981\u56E0\u4E3A\u4F5C\u8005\u4E0D\u4F1A\u5199)")},style:{width:"100%",marginBottom:8},children:[(0,e.jsx)(he.Z,{}),"\u6DFB\u52A0\u9879\u76EE"]}),(0,e.jsx)(b.ZP,{size:"large",rowKey:"id",loading:U,pagination:K,dataSource:T==null?void 0:T.data,renderItem:function(o){return(0,e.jsxs)(b.ZP.Item,{children:[(0,e.jsx)(A.Z,{span:10,children:(0,e.jsx)(b.ZP.Item.Meta,{avatar:(0,e.jsx)(Pe.C,{src:o.project_logo,shape:"square",size:"large"}),title:o.project_center,description:o.project_description})}),(0,e.jsx)(A.Z,{span:6,children:(0,e.jsx)(b.ZP.Item.Meta,{title:"\u9879\u76EE\u6A21\u677F",description:o.project_template_name})})]})}})]})}),(0,e.jsx)(Ie,{done:a,visible:h,current:l,onDone:O,onSubmit:oe})]})},$e=Ve,ve=n(64317),Ue=n(41736),R=n.n(Ue),Ke=function(r){var t=r.done,a=r.visible,s=r.current,g=r.onDone,p=r.onSubmit,h=r.children;return a?(0,e.jsx)(X.Z,{visible:a,title:"\u6DFB\u52A0\u6F0F\u6D1E\u6A21\u677F",className:R().standardListForm,width:500,onFinish:function(){var v=(0,E.Z)(d().mark(function m(i){return d().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:p(i);case 1:case"end":return f.stop()}},m)}));return function(m){return v.apply(this,arguments)}}(),initialValues:s,submitter:{render:function(m,i){return t?null:i}},trigger:(0,e.jsx)(e.Fragment,{children:h}),modalProps:{onCancel:function(){return g()},destroyOnClose:!0,bodyStyle:t?{padding:"72px 0"}:{}},children:t?(0,e.jsx)(H.ZP,{status:"success",title:"\u64CD\u4F5C\u6210\u529F",subTitle:"\u4E00\u7CFB\u5217\u7684\u4FE1\u606F\u63CF\u8FF0\uFF0C\u5F88\u77ED\u540C\u6837\u4E5F\u53EF\u4EE5\u5E26\u6807\u70B9\u3002",extra:(0,e.jsx)(z.Z,{type:"primary",onClick:g,children:"\u77E5\u9053\u4E86"}),className:R().formResult}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(ve.Z,{name:"program_type",label:"\u6F0F\u6D1E\u7C7B\u578B",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u6F0F\u6D1E\u7C7B\u578B"}],options:[{label:"WEB\u6F0F\u6D1E",value:"WEB\u6F0F\u6D1E"},{label:"\u79FB\u52A8\u5BA2\u6237\u7AEF\u6F0F\u6D1E",value:"\u79FB\u52A8\u5BA2\u6237\u7AEF\u6F0F\u6D1E"},{label:"PC\u5BA2\u6237\u7AEF\u6F0F\u6D1E",value:"PC\u5BA2\u6237\u7AEF\u6F0F\u6D1E"},{label:"\u667A\u80FD\u786C\u4EF6",value:"\u667A\u80FD\u786C\u4EF6"},{label:"\u5176\u5B83",value:"\u5176\u5B83"}],placeholder:"\u8BF7\u9009\u62E9\u6F0F\u6D1E\u7C7B\u578B"}),(0,e.jsx)(P.Z,{name:"program_vul_name",label:"\u6F0F\u6D1E\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6F0F\u6D1E\u540D\u79F0"}],placeholder:"\u8BF7\u8F93\u5165"}),(0,e.jsx)(M.Z,{name:"program_describe",label:"\u6F0F\u6D1E\u63CF\u8FF0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u81F3\u5C11\u4E94\u4E2A\u5B57\u7B26\u7684\u6F0F\u6D1E\u63CF\u8FF0\uFF01",min:5}],placeholder:"\u8BF7\u8F93\u5165\u81F3\u5C11\u4E94\u4E2A\u5B57\u7B26"}),(0,e.jsx)(M.Z,{name:"program_repair",label:"\u4FEE\u590D\u5EFA\u8BAE",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u81F3\u5C11\u4E94\u4E2A\u5B57\u7B26\u7684\u4FEE\u590D\u5EFA\u8BAE\uFF01",min:5}],placeholder:"\u8BF7\u8F93\u5165\u81F3\u5C11\u4E94\u4E2A\u5B57\u7B26"})]})}):null},Ye=Ke,St=n(13062),Ge=n(71230),Qe=function(r){var t=r.done,a=r.visible,s=r.current,g=r.onDone,p=r.onSubmit,h=r.children;return a?(0,e.jsx)(X.Z,{visible:a,title:"\u7F16\u8F91\u6F0F\u6D1E\u6A21\u677F",className:R().standardListForm,width:500,onFinish:function(){var v=(0,E.Z)(d().mark(function m(i){return d().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:p(i);case 1:case"end":return f.stop()}},m)}));return function(m){return v.apply(this,arguments)}}(),initialValues:s,submitter:{render:function(m,i){return t?null:i}},trigger:(0,e.jsx)(e.Fragment,{children:h}),modalProps:{onCancel:function(){return g()},destroyOnClose:!0,bodyStyle:t?{padding:"72px 0"}:{}},children:t?(0,e.jsx)(H.ZP,{status:"success",title:"\u64CD\u4F5C\u6210\u529F",subTitle:"\u4E00\u7CFB\u5217\u7684\u4FE1\u606F\u63CF\u8FF0\uFF0C\u5F88\u77ED\u540C\u6837\u4E5F\u53EF\u4EE5\u5E26\u6807\u70B9\u3002",extra:(0,e.jsx)(z.Z,{type:"primary",onClick:g,children:"\u77E5\u9053\u4E86"}),className:R().formResult}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(Ge.Z,{children:[(0,e.jsx)(A.Z,{flex:2,children:(0,e.jsx)(P.Z,{name:"id",label:"\u7F16\u53F7",width:"xs",disabled:!0,placeholder:"\u81EA\u52A8\u751F\u6210"})}),(0,e.jsx)(A.Z,{flex:5,children:(0,e.jsx)(ve.Z,{name:"program_type",label:"\u6F0F\u6D1E\u7C7B\u578B",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u6F0F\u6D1E\u7C7B\u578B"}],options:[{label:"WEB\u6F0F\u6D1E",value:"WEB\u6F0F\u6D1E"},{label:"\u79FB\u52A8\u5BA2\u6237\u7AEF\u6F0F\u6D1E",value:"\u79FB\u52A8\u5BA2\u6237\u7AEF\u6F0F\u6D1E"},{label:"PC\u5BA2\u6237\u7AEF\u6F0F\u6D1E",value:"PC\u5BA2\u6237\u7AEF\u6F0F\u6D1E"},{label:"\u667A\u80FD\u786C\u4EF6",value:"\u667A\u80FD\u786C\u4EF6"},{label:"\u5176\u5B83",value:"\u5176\u5B83"}],placeholder:"\u8BF7\u9009\u62E9\u6F0F\u6D1E\u7C7B\u578B"})})]}),(0,e.jsx)(P.Z,{name:"program_vul_name",label:"\u6F0F\u6D1E\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6F0F\u6D1E\u540D\u79F0"}],placeholder:"\u8BF7\u8F93\u5165"}),(0,e.jsx)(M.Z,{name:"program_describe",label:"\u6F0F\u6D1E\u63CF\u8FF0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u81F3\u5C11\u4E94\u4E2A\u5B57\u7B26\u7684\u6F0F\u6D1E\u63CF\u8FF0\uFF01",min:5}],placeholder:"\u8BF7\u8F93\u5165\u81F3\u5C11\u4E94\u4E2A\u5B57\u7B26"}),(0,e.jsx)(M.Z,{name:"program_repair",label:"\u4FEE\u590D\u5EFA\u8BAE",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u81F3\u5C11\u4E94\u4E2A\u5B57\u7B26\u7684\u4FEE\u590D\u5EFA\u8BAE\uFF01",min:5}],placeholder:"\u8BF7\u8F93\u5165\u81F3\u5C11\u4E94\u4E2A\u5B57\u7B26"})]})}):null},ke=Qe;function V(u){return ne.apply(this,arguments)}function ne(){return ne=(0,E.Z)(d().mark(function u(r){return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,x.WY)("/api/program/",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access"))},params:r}));case 1:case"end":return a.stop()}},u)})),ne.apply(this,arguments)}function He(u){return ue.apply(this,arguments)}function ue(){return ue=(0,E.Z)(d().mark(function u(r){var t;return d().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=(0,J.Z)({},r),s.abrupt("return",(0,x.WY)("/api/program/",{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("access"))},data:(0,j.Z)((0,j.Z)({},t),{},{method:"post"})}));case 2:case"end":return s.stop()}},u)})),ue.apply(this,arguments)}function Xe(u){return se.apply(this,arguments)}function se(){return se=(0,E.Z)(d().mark(function u(r){return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,x.WY)("/api/program/"+r.id+"/",{method:"DELETE",headers:{Authorization:"Bearer ".concat(localStorage.getItem("access"))}}));case 1:case"end":return a.stop()}},u)})),se.apply(this,arguments)}function Je(u){return ie.apply(this,arguments)}function ie(){return ie=(0,E.Z)(d().mark(function u(r){var t;return d().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=(0,J.Z)({},r),s.abrupt("return",(0,x.WY)("/api/program/"+r.id+"/",{method:"PUT",headers:{Authorization:"Bearer ".concat(localStorage.getItem("access"))},data:(0,j.Z)((0,j.Z)({},t),{},{method:"put"})}));case 2:case"end":return s.stop()}},u)})),ie.apply(this,arguments)}var qe=n(11553),_e=function(){var r=(0,Z.useState)(!1),t=(0,C.Z)(r,2),a=t[0],s=t[1],g=(0,Z.useState)(!1),p=(0,C.Z)(g,2),h=p[0],v=p[1],m=(0,Z.useState)(!1),i=(0,C.Z)(m,2),l=i[0],f=i[1],S=(0,Z.useState)(void 0),T=(0,C.Z)(S,2),U=T[0],K=T[1],N=(0,x.QT)(function(y){var c=y.current,D=y.pageSize;return V({current:c,pageSize:D})},{formatResult:function(c){return c},paginated:!0}),I=N.data,ge=N.loading,le=N.pagination,Fe=(0,x.QT)(function(y,c){if(y==="remove")return Xe(c),V();if(y==="update")return Je(c),V();if(y==="add")return He(c),V()},{manual:!0,onSuccess:function(c){mutate(c)}}),O=Fe.run,oe=function(c){f(!0),K(c)},F=function(c){O("remove",{id:c})},o=function(c){fe.Z.confirm({title:"\u5220\u9664\u4EFB\u52A1",content:"\u786E\u5B9A\u5220\u9664\u8BE5\u4EFB\u52A1\u5417\uFF1F",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){return F(c.id)}})},w=function(){s(!1),v(!1),f(!1),K({})},ut=function(c){s(!0);var D="add";O(D,c)},st=function(c){s(!0);var D="update";O(D,c)},it=(0,Z.useState)([]),ye=(0,C.Z)(it,2),lt=ye[0],ot=ye[1];return(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:R().standardList,children:(0,e.jsxs)(pe.Z,{className:R().listCard,bordered:!1,style:{marginTop:24},bodyStyle:{padding:"0 32px 40px 32px"},children:[(0,e.jsxs)(z.Z,{type:"dashed",onClick:function(){v(!0)},style:{width:"100%",marginBottom:8},children:[(0,e.jsx)(he.Z,{}),"\u6DFB\u52A0\u6F0F\u6D1E\u6A21\u677F"]}),(0,e.jsx)(b.ZP,{size:"large",rowKey:"id",loading:ge,pagination:le,dataSource:I==null?void 0:I.data,renderItem:function(c){return(0,e.jsxs)(b.ZP.Item,{actions:[(0,e.jsx)("a",{onClick:function(de){de.preventDefault(),oe(c)},children:"\u7F16\u8F91"},"edit"),(0,e.jsx)("a",{onClick:function(de){de.preventDefault(),o(c)},children:"\u5220\u9664"},"delete")],expandable:{expandedRowKeys:lt,onExpandedRowsChange:ot},children:[(0,e.jsx)(A.Z,{span:4,children:(0,e.jsx)(b.ZP.Item.Meta,{title:c.program_type,description:(0,e.jsx)("strong",{children:c.program_vul_name})})}),(0,e.jsx)(A.Z,{span:12,children:(0,e.jsx)(b.ZP.Item.Meta,{title:"\u4FEE\u590D\u5EFA\u8BAE\uFF1A",description:(0,e.jsx)(qe.Z,{text:c.program_repair,maxLine:"3"})})})]})}})]})}),(0,e.jsx)(Ye,{done:a,visible:h,current:U,onDone:w,onSubmit:ut}),(0,e.jsx)(ke,{done:a,visible:l,current:U,onDone:w,onSubmit:st})]})},et=_e,tt=n(32108),$=n.n(tt),rt=me.Z.Item,at=function(){var r={base:"\u57FA\u672C\u8BBE\u7F6E",project:"\u9879\u76EE\u8BBE\u7F6E",program:"\u6574\u6539\u8BBE\u7F6E"},t=(0,Z.useState)({mode:"inline",selectKey:"base"}),a=(0,C.Z)(t,2),s=a[0],g=a[1],p=(0,Z.useRef)(),h=function(){requestAnimationFrame(function(){if(!!p.current){var l="inline",f=p.current.offsetWidth;p.current.offsetWidth<641&&f>400&&(l="horizontal"),window.innerWidth<768&&f>400&&(l="horizontal"),g((0,j.Z)((0,j.Z)({},s),{},{mode:l}))}})};(0,Z.useLayoutEffect)(function(){return p.current&&(window.addEventListener("resize",h),h()),function(){window.removeEventListener("resize",h)}},[p.current]);var v=function(){return Object.keys(r).map(function(l){return(0,e.jsx)(rt,{children:r[l]},l)})},m=function(){var l=s.selectKey;switch(l){case"base":return(0,e.jsx)(De,{});case"project":return(0,e.jsx)($e,{});case"program":return(0,e.jsx)(et,{});default:return null}};return(0,e.jsx)(je.Z,{children:(0,e.jsxs)("div",{className:$().main,ref:function(l){l&&(p.current=l)},children:[(0,e.jsx)("div",{className:$().leftMenu,children:(0,e.jsx)(me.Z,{mode:s.mode,selectedKeys:[s.selectKey],onClick:function(l){var f=l.key;g((0,j.Z)((0,j.Z)({},s),{},{selectKey:f}))},children:v()})}),(0,e.jsxs)("div",{className:$().right,children:[(0,e.jsx)("div",{className:$().title,children:r[s.selectKey]}),m()]})]})})},nt=at}}]);
